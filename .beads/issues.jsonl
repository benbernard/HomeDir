{"id":"benbernard-eet","title":"Update AGENTS.md to warn about node_modules searches in repos and bin/ts","description":"Update AGENTS.md to add specific warnings about node_modules performance issues in repos/ and bin/ts/ directories.\n\nLocation: Add to the 'File Search Best Practices' section (after 'The Problem' subsection)\n\nContent to add:\n1. Add bin/ts to the list of problematic directories (currently only mentions repos/)\n2. Emphasize that BOTH repos/ and bin/ts/ should be avoided in recursive searches\n3. Explain why:\n   - repos/ contains many project subdirectories, each with their own node_modules/\n   - bin/ts/ has its own node_modules/ directory with hundreds of dependencies\n   - Recursive searches will scan thousands of dependency files causing severe slowdowns\n\n4. Update existing solutions:\n   - Option 1 (git ls-files): Already correct, emphasize this is the RECOMMENDED approach\n   - Option 2 (exclude node_modules): Add examples for both find and grep/rg\n   - Option 3 (search specific directories): Add bin/ts/src/ to the list, but with warning NOT to use just 'bin/'\n\n5. Add specific warning boxes:\n   '⚠️  NEVER run recursive searches in repos/ or bin/ts/ without excluding node_modules'\n   '✅  ALWAYS use git ls-files, or explicitly exclude node_modules with find/grep'\n\n6. Add examples of what NOT to do:\n   - Glob(pattern='**/*.ts') # BAD - will search all of repos/\n   - Grep(pattern='function', path='/Users/benbernard') # BAD - will hit repos/ and bin/ts/\n   - find . -name '*.ts' # BAD in home directory\n\nFormat: Use existing markdown style with bold warnings, code blocks, and tables as appropriate.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-03T10:45:28.535821-08:00","updated_at":"2025-12-03T10:55:33.531865-08:00","closed_at":"2025-12-03T10:55:33.531865-08:00"}
{"id":"benbernard-sq0","title":"Enhance ic tool with project support and symlink management","description":"Epic to enhance the ic (interactive container/clone) tool with two major features:\n\n1. Project support - Allow organizing multiple related repos under a project directory structure (~/repos/PROJECT_NAME/repo1, repo2, etc.)\n2. Symlink management - Add command to easily create/update ~/REPO_NAME symlinks that point to actual repo locations\n\nThese features improve workspace organization and support tools that expect repos at specific symlink locations in the home directory.","status":"open","priority":1,"issue_type":"epic","created_at":"2025-12-03T10:52:46.254933-08:00","updated_at":"2025-12-03T10:52:54.558459-08:00"}
{"id":"benbernard-sq0.1","title":"Add project support to ic clone command","description":"Add --project flag to 'ic clone' command to support organizing multiple related repos under a project directory.\n\nRequirements:\n- Add --project \u003cname\u003e flag to 'ic clone' command\n- If --project is specified, clone into ~/repos/PROJECT_NAME/REPO_NAME\n- Auto-detect if already in a project directory (check for .ic_project file in current dir or parent dirs up to repos/)\n- If in a project directory without --project flag, prompt user: 'Clone into project PROJECT_NAME or globally? [project/GLOBAL]'\n- Create .ic_project file when creating a new project directory (similar to .workspace file)\n- Project directories are under repos/ but are NOT git repos themselves (similar to workspace concept)\n- Update help text and shell completion for new --project flag\n\nExample usage:\n  cd ~/repos \u0026\u0026 ic clone myrepo --project myFeature  # Creates ~/repos/myFeature/.ic_project and ~/repos/myFeature/myrepo\n  cd ~/repos/myFeature \u0026\u0026 ic clone anotherrepo       # Prompts to clone into myFeature project or globally","status":"open","priority":1,"issue_type":"feature","created_at":"2025-12-03T10:54:12.665007-08:00","updated_at":"2025-12-03T10:54:12.665007-08:00","dependencies":[{"issue_id":"benbernard-sq0.1","depends_on_id":"benbernard-sq0","type":"parent-child","created_at":"2025-12-03T10:54:12.665638-08:00","created_by":"daemon"}]}
{"id":"benbernard-sq0.2","title":"Add ic symlink command to manage repo symlinks","description":"Add 'ic s' or 'ic symlink' command to manage repo symlinks in home directory.\n\nRequirements:\n- Add 'ic symlink' (alias 'ic s') command\n- Detect current repository name from directory basename\n- Create or update ~/REPO_NAME symlink to point to current repo directory\n- Should work from anywhere within a repo (use git root detection or current dir)\n- Handle edge cases:\n  - If symlink already exists and points elsewhere, prompt for confirmation: 'Symlink ~/REPO exists pointing to OLD_PATH. Update to NEW_PATH? [y/N]'\n  - If ~/REPO_NAME exists as a regular file/directory (not symlink), error and abort\n  - If not in a recognizable repo directory, error with helpful message\n- Optional: Add --force flag to skip confirmation prompts\n- Update help text and shell completion\n\nUse case: Some tools expect repos at ~/repo_name (e.g., ~/ava, ~/carrot). This command makes it easy to point those symlinks to the actual repo location (e.g., ~/repos/ava, ~/repos/myProject/ava, ~/repos/ava-feature-branch).\n\nExample usage:\n  cd ~/repos/ava \u0026\u0026 ic s              # Creates ~/ava -\u003e ~/repos/ava\n  cd ~/repos/myProject/ava \u0026\u0026 ic s    # Updates ~/ava -\u003e ~/repos/myProject/ava (with confirmation)","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-03T10:54:26.151143-08:00","updated_at":"2025-12-03T13:34:17.65278-08:00","closed_at":"2025-12-03T13:34:17.65278-08:00","dependencies":[{"issue_id":"benbernard-sq0.2","depends_on_id":"benbernard-sq0","type":"parent-child","created_at":"2025-12-03T10:54:26.151904-08:00","created_by":"daemon"}]}
{"id":"benbernard-toy","title":"Analyze and optimize shell startup time","description":"Analyze and optimize zsh shell startup time to achieve \u003c1 second startup (currently likely 2-5+ seconds).\n\nPhase 1 - Measure \u0026 Identify:\n- Run 'time zsh -i -c exit' to measure current baseline\n- Check for common slowdowns in ~/.zshrc and ~/.instacart_shell_profile:\n  * NVM loading (1-2s) - check for 'nvm.sh'\n  * YVM loading (100-200ms) - check for 'yvm.sh'\n  * Bento completion (200-500ms) - check for 'bento completion'\n  * Powerlevel10k/oh-my-zsh (100-300ms) - check for theme/framework\n  * Multiple compinit calls (300-500ms each)\n  * brew --prefix calls (100-200ms) - in instacart_shell_profile\n  * eval commands: rbenv, pyenv, zoxide, direnv (50-100ms each)\n\nPhase 2 - Apply Optimizations (in order of impact):\n1. Add suppress flags at TOP of ~/.zshrc (before sourcing instacart_shell_profile):\n   export INSTACART_SUPPRESS_NVM=true\n   export INSTACART_SUPPRESS_SETUP_COMPLETION=true\n\n2. Lazy-load NVM (saves 1-2s):\n   - Add lazy_load_nvm function and wrappers for node/npm/npx/nvm/pnpm/yarn\n   - Comment out any existing nvm loading\n\n3. Cache bento completions (saves 200-500ms):\n   - Run: bento completion zsh --silent \u003e ~/.cache/bento_completion.zsh\n   - Replace 'source \u003c(bento completion zsh --silent)' with source of cached file\n\n4. Cache other eval commands (50-100ms each):\n   - zoxide: zoxide init zsh \u003e ~/.cache/zoxide.zsh\n   - rbenv: rbenv init - \u003e ~/.cache/rbenv.sh\n   - pyenv: pyenv init - \u003e ~/.cache/pyenv.sh\n   - direnv: direnv hook zsh \u003e ~/.cache/direnv.zsh\n\n5. P10k instant prompt (if using Powerlevel10k):\n   - Ensure instant prompt code is at VERY TOP of ~/.zshrc (before any output)\n\n6. AI agent fast mode (optional):\n   - Add CURSOR_AGENT/CLAUDE_CODE check at top to skip heavy init\n\n7. Silence login message:\n   - touch ~/.hushlogin\n\nPhase 3 - Verify:\n- Run 'time zsh -i -c exit' again, target \u003c1 second\n- Test that node/npm work (first call will be slow due to lazy-load)\n- Test completions still work\n- Document changes made\n\nTrade-offs to accept:\n- First node/npm command in new shell has ~1s delay (acceptable)\n- Must regenerate caches when tools are updated (acceptable)\n\nReference: Full guide provided in user context","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-03T10:44:05.88249-08:00","updated_at":"2025-12-03T11:22:11.84054-08:00","closed_at":"2025-12-03T11:22:11.84054-08:00"}
