{
  "env": {
    "ANTHROPIC_BEDROCK_BASE_URL": "https://aigateway.instacart.tools/proxy/claude-code/bedrock/tag/local-claude/user/ben.bernard@instacart.com",
    "CLAUDE_CODE_ENABLE_TELEMETRY": "1",
    "CLAUDE_CODE_SKIP_BEDROCK_AUTH": "1",
    "CLAUDE_CODE_USE_BEDROCK": "1",
    "OTEL_EXPORTER_OTLP_ENDPOINT": "http://otlp.proxy.datadog.internal.pika.ac:4317",
    "OTEL_EXPORTER_OTLP_PROTOCOL": "grpc",
    "OTEL_LOGS_EXPORTER": "otlp",
    "OTEL_METRICS_EXPORTER": "otlp",
    "OTEL_RESOURCE_ATTRIBUTES": "service.name=claude-code-cli,user.email=ben.bernard@instacart.com"
  },
  "permissions": {
    "allow": [
      "*",
      "Bash",
      "Read",
      "Write",
      "Edit",
      "Glob",
      "Grep",
      "Task",
      "TodoWrite",
      "WebFetch",
      "WebSearch",
      "NotebookEdit",
      "NotebookRead",
      "AskUserQuestion",
      "Skill",
      "SlashCommand",
      "BashOutput",
      "KillShell",
      "mcp__playwright__*",
      "mcp__chrome-devtools__*"
    ],
    "deny": [],
    "ask": [],
    "defaultMode": "acceptEdits"
  },
  "hooks": {
    "Notification": [
      {
        "matcher": "idle_prompt",
        "hooks": [
          {
            "type": "command",
            "command": "/Users/benbernard/bin/ts/src/claude-notify idle_prompt"
          }
        ]
      }
    ],
    "Stop": [
      {
        "matcher": "",
        "hooks": [
          {
            "type": "command",
            "command": "/Users/benbernard/bin/ts/src/claude-notify stop"
          }
        ]
      }
    ]
  },
  "statusLine": {
    "type": "command",
    "command": "input=$(cat); cwd=$(echo \"$input\" | jq -r '.workspace.current_dir'); username=$(whoami); total_input=$(echo \"$input\" | jq -r '.context_window.total_input_tokens'); total_output=$(echo \"$input\" | jq -r '.context_window.total_output_tokens'); context_size=$(echo \"$input\" | jq -r '.context_window.context_window_size'); total_used=$((total_input + total_output)); usage_percent=$((total_used * 100 / context_size)); bar_width=20; filled=$((usage_percent * bar_width / 100)); empty=$((bar_width - filled)); if [ $usage_percent -lt 50 ]; then bar_color=\"38;2;104;157;106\"; elif [ $usage_percent -lt 80 ]; then bar_color=\"38;2;215;153;33\"; else bar_color=\"38;2;214;93;14\"; fi; progress_bar=\"[\"; for ((i=0; i<filled; i++)); do progress_bar+=\"█\"; done; for ((i=0; i<empty; i++)); do progress_bar+=\"░\"; done; progress_bar+=\"]\"; if [ $total_used -gt 1000 ]; then total_used_fmt=\"$((total_used / 1000))K\"; else total_used_fmt=\"$total_used\"; fi; if [ $context_size -gt 1000 ]; then context_size_fmt=\"$((context_size / 1000))K\"; else context_size_fmt=\"$context_size\"; fi; printf '\\033[38;2;214;93;14m󰀵 %s\\033[0m \\033[38;2;215;153;33m%s\\033[0m' \"$username\" \"$cwd\"; if git -C \"$cwd\" rev-parse --git-dir >/dev/null 2>&1; then branch=$(git -C \"$cwd\" branch --show-current 2>/dev/null); [ -n \"$branch\" ] && printf ' \\033[38;2;104;157;106m %s\\033[0m' \"$branch\"; fi; printf ' \\033[38;2;168;153;132m %s\\033[0m' \"$(date +%I:%M%p)\"; printf ' \\033[%sm%s %d%%\\033[0m \\033[38;2;168;153;132m(%s/%s)\\033[0m' \"$bar_color\" \"$progress_bar\" \"$usage_percent\" \"$total_used_fmt\" \"$context_size_fmt\""
  },
  "enabledPlugins": {
    "code-review@claude-code-plugins": true,
    "commit-commands@claude-code-plugins": true,
    "pr-review-toolkit@claude-code-plugins": true
  },
  "alwaysThinkingEnabled": true
}
